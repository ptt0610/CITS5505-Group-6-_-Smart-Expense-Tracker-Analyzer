{% extends 'base.html' %}

{% block title %}Expense Records{% endblock %}

{% block head_extra %}
<!-- Custom styles for the table -->
<link href="{{ url_for('static', filename='vendor/datatables/dataTables.bootstrap4.min.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<h1 class="h3 mb-4 text-gray-800">Track Your Spending</h1>

<!-- Nested Row within Card Body -->
<div class="row">
    
    <div class="col-lg-6">
        <div class="p-5">
            <div class="text-center">
                <h1 class="h4 text-gray-900 mb-4">Enter Your Expense</h1>
            </div>
            <!-- Expense Entry Form -->
            <form action="{{ url_for('records') }}" method="POST">
                <div class="form-group">
                    <input type="hidden" id="recordId">
                </div> 
                <div class="form-group">
                    <label for="amount">Amount</label>
                    <input type="number" class="form-control" id="amount" name="amount" 
                        required placeholder="Enter amount $ (e.g., 25.50)">
                </div>

                <div class="form-group">
                    <label for="category">Category</label>
                    <select class="form-control" id="category" name="category" required>
                        <option value="">Select Category</option>
                        <option value="Clothing">Clothing</option>
                        <option value="Education">Education</option>
                        <option value="Entertainment">Entertainment</option>
                        <option value="Food">Food</option>
                        <option value="Groceries">Groceries</option>
                        <option value="Healthcare">Healthcare</option>
                        <option value="Housing">Housing</option>
                        <option value="Insurance">Insurance</option>
                        <option value="Investments">Investments</option>
                        <option value="Personal Care">Personal Care</option>
                        <option value="Transportation">Transportation</option>
                        <option value="Utilities">Utilities</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="date">Date</label>
                    <input type="date" class="form-control" id="date" name="date" required>
                </div>

                <button type="submit" class="btn btn-primary btn-user btn-block" id="saveBtn">Save Expense</button>
            </form>
            <hr>
            <div class="text-center">
                <a class="small" href="{{ url_for('dashboard') }}">Back to Dashboard</a>
            </div>
        </div>
    </div>
</div>

<!-- Filter Form -->
<div class="container-fluid mb-3">
    <form class="form-row align-items-end">
        <div class="col-md-2">
            <label for="filterCategory">Category:</label>
            <select id="filterCategory" class="form-control">
                <option value="">All</option>
                <option>Clothing</option>
                <option>Education</option>
                <option>Entertainment</option>
                <option>Food</option>
                <option>Groceries</option>
                <option>Healthcare</option>
                <option>Housing</option>
                <option>Insurance</option>
                <option>Investments</option>
                <option>Personal Care</option>
                <option>Transportation</option>
                <option>Utilities</option>
                <option>Other</option>
            </select>
        </div>

        <div class="col-md-2">
            <label for="minDate">From:</label>
            <input type="date" id="minDate" class="form-control">
        </div>

        <div class="col-md-2">
            <label for="maxDate">To:</label>
            <input type="date" id="maxDate" class="form-control">
        </div>

        <div class="col-md-2">
            <label for="minAmount">Min Amount:</label>
            <input type="number" id="minAmount" class="form-control" placeholder="e.g., 50">
        </div>

        <div class="col-md-2">
            <label for="maxAmount">Max Amount:</label>
            <input type="number" id="maxAmount" class="form-control" placeholder="e.g., 200">
        </div>

        <div class="col-md-2 text-right">
            <button type="button" id="resetFilters" class="btn btn-primary btn-block">Reset</button>
        </div>
    </form>
</div>




<!-- Expense Table -->
<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Expense Records</h6>
    </div>

    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Date</th>
                        <th>Category</th>
                        <th>Amount</th>
                        <th>Update</th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <th>ID</th>
                        <th>Date</th>
                        <th>Category</th>
                        <th>Amount</th>
                        <th>Update</th>
                        
                    </tr>
                </tfoot>
                <tbody>
                    <!-- Replace with dynamic data from the backend -->
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}

{% block footer_extra %}


<!-- Data table plugins -->
<script src="{{ url_for('static', filename='vendor/datatables/jquery.dataTables.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/datatables/dataTables.bootstrap4.min.js') }}"></script>

<!-- Load custom data to the table -->
<script src="{{ url_for('static', filename='js/expense_tracker/records.js') }}"></script>


{% endblock %}
